좋습니다! 예시 코드를 완전히 제거하고, **명세서 + 데이터 디렉토리 구성 + 데이터 형식 설명만 깔끔하게 정리**해 드리겠습니다.

---

# 원형 다각형 기반 계층 시각화 프로젝트 명세서

## 1. 프로젝트 개요

* **목적**: 금융 데이터를 원형 다각형(Sunburst) 형태로 시각화하여, 계층별 시장 구조 및 자금 흐름을 직관적으로 파악할 수 있도록 함.
* **대상 데이터**: ETF 기반 섹터/산업군/종목의 시계열 가격 및 거래량 데이터.

---

## 2. 데이터 디렉토리 및 구성

### 2.1 디렉토리 구조

* 데이터 폴더 위치: `./nasdaq_etf_data`
* 파일명 형식: `{ETF명}_{주기}.csv`
  예: `XLF_1d.csv`, `XLK_1d.csv`

### 2.2 파일 내부 구조 (CSV, 공통 형식)

| 행 번호 | 내용                                 | 설명                                |
| ---- | ---------------------------------- | --------------------------------- |
| 1행   | `Price,Close,High,Low,Open,Volume` | 데이터 항목 이름 (사용자 정의 헤더)             |
| 2행   | `Ticker,XLF,XLF,XLF,XLF,XLF`       | 각 항목에 해당하는 종목 코드 (중복)             |
| 3행   | `Date,,,,,`                        | 날짜 컬럼 명시, 이후 데이터가 시작됨             |
| 4행\~ | 시계열 데이터                            | 날짜별 `Close`, `Volume` 등의 수치 정보 포함 |

* 데이터는 4번째 행부터 시작
* 날짜는 `YYYY-MM-DD` 형식이며 종목마다 시작일이 다름
* `ETF명`은 파일명에서 파싱
* 주요 지표: `Close` (종가), `Volume` (거래량)
* 추가적으로 `Sector`, `Industry` 등의 계층 구분은 파일 외부에서 별도로 정의하거나 ETF명을 임시로 사용

---

## 3. 주요 기능

* **계층 구조 시각화**
  섹터 → 산업군 → 산업 → 종목 등의 단계적 계층 구조를 원형 다각형으로 표현

* **지표 기반 표현**
  각 영역의 크기는 거래량(`Volume`), 색상은 가격(`Close`) 등으로 매핑 가능

* **사용자 인터랙션 지원**
  클릭, 드래그, 확대/축소, 마우스오버 툴팁 등 인터랙티브 탐색 제공

* **시계열 애니메이션 지원**
  슬라이더 및 재생 버튼을 통해 시간 흐름에 따른 구조 변화 시각화

---

## 4. 기술 사양

* **언어**: Python 3.x
* **시각화 라이브러리**: Plotly (Graph Objects 기반)
* **데이터 처리**: pandas
* **환경**: 로컬 개발 (Jupyter Notebook, VSCode 등)

---

## 5. 개발 단계

1. **단일 시점 시각화 구현**
   계층 관계를 Sunburst로 정확히 표현하고, 지표 매핑 검증

2. **시계열 처리 및 애니메이션 구현**
   날짜별 프레임 구성, 시간 슬라이더 적용

3. **데이터 정제 자동화**
   다중 파일 읽기, 공통 포맷으로 병합, 결측치 및 이상치 처리

4. **UX/UI 보완**
   툴팁, 컬러 스케일, 텍스트 배치 등 가독성 향상

5. **확장 가능성 확보**
   섹터 → 산업군 등 계층 확장, 종목 단위 분해, 외부 산업 분류 체계 연동

---

## 6. 기대 효과

* 다층적 시장 구조 시각화로 분석 효율 향상
* 시계열 흐름을 통한 섹터 간 자금 이동 감지
* 투자자/리서처/운용사 대상의 데이터 기반 스토리텔링 강화

---

필요하시면 이후 단계별 작업표, 디자인 시안, 혹은 산업군 분류표 구성도 도와드릴 수 있습니다!
